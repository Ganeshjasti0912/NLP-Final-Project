{"ast":null,"code":"import React,{useState}from\"react\";import\"./App.css\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function App(){const[query,setQuery]=useState(\"\");const[response,setResponse]=useState(null);const[loading,setLoading]=useState(false);const[error,setError]=useState(\"\");const API_URL=\"https://ondemand.orc.gmu.edu/rnode/gpu018.orc.gmu.edu/25954/proxy/8000\";async function generate(){if(!query.trim())return;setLoading(true);setResponse(null);setError(\"\");try{const res=await fetch(\"\".concat(API_URL,\"/generate\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({text:query})});if(!res.ok){throw new Error(\"Server error: \".concat(res.status));}const data=await res.json();setResponse(data);}catch(e){console.error(e);setError(\"Something went wrong while generating your itinerary.\");}finally{setLoading(false);}}const handleKeyDown=e=>{if(e.key===\"Enter\"&&(e.metaKey||e.ctrlKey)){generate();}};const prettyPreference=(response===null||response===void 0?void 0:response.preference)&&response.preference.charAt(0).toUpperCase()+response.preference.slice(1);return/*#__PURE__*/_jsx(\"div\",{className:\"app-root\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"app-shell\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"app-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"logo-circle\",children:\"\\u2708\\uFE0F\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"app-title\",children:\"AI Travel Planner\"}),/*#__PURE__*/_jsx(\"p\",{className:\"app-subtitle\",children:\"Turn natural language requests into smart, personalized itineraries.\"})]})]}),/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsxs(\"section\",{className:\"card input-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Describe your dream trip\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-helper\",children:[\"Mention things like \",/*#__PURE__*/_jsx(\"span\",{children:\"destination\"}),\", \",/*#__PURE__*/_jsx(\"span\",{children:\"days\"}),\",\",\" \",/*#__PURE__*/_jsx(\"span\",{children:\"budget\"}),\", or \",/*#__PURE__*/_jsx(\"span\",{children:\"style\"}),\" (luxury, romantic, foodie, adventure\\u2026)\"]})]}),/*#__PURE__*/_jsx(\"textarea\",{rows:\"4\",value:query,onChange:e=>setQuery(e.target.value),onKeyDown:handleKeyDown,placeholder:\"Example: Plan a 4-day luxury trip to Paris for a couple interested in art and fine dining.\",className:\"query-textarea\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-footer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"hint\",children:[\"Press \",/*#__PURE__*/_jsx(\"kbd\",{children:\"Ctrl\"}),\"+\",/*#__PURE__*/_jsx(\"kbd\",{children:\"Enter\"}),\" (or \",/*#__PURE__*/_jsx(\"kbd\",{children:\"\\u2318\"}),\"+\",/*#__PURE__*/_jsx(\"kbd\",{children:\"Enter\"}),\") to generate.\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:generate,disabled:loading||!query.trim(),className:\"primary-button\",children:loading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"spinner\"}),\" Generating\\u2026\"]}):\"Generate Itinerary\"})]}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error-text\",children:error})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"suggestions\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Try one of these:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"suggestion-chips\",children:[\"Plan a 3-day budget trip to New York for two students who love street food.\",\"Create a 7-day relaxing beach vacation in Bali with spa and sunsets.\",\"Plan a 5-day family trip to Tokyo with kid-friendly activities.\"].map((s,idx)=>/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"chip\",onClick:()=>setQuery(s),children:s},idx))})]}),response&&/*#__PURE__*/_jsxs(\"section\",{className:\"card output-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"output-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Your AI-crafted trip\"}),prettyPreference&&/*#__PURE__*/_jsxs(\"span\",{className:\"pref-badge pref-\".concat(response.preference.toLowerCase()),children:[prettyPreference,\" focus\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"output-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"output-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Extracted Preference\"}),/*#__PURE__*/_jsx(\"p\",{className:\"preference-text\",children:prettyPreference||\"‚Äî not detected ‚Äî\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"output-section itinerary-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Generated Itinerary\"}),/*#__PURE__*/_jsx(\"pre\",{className:\"itinerary-pre\",children:response.itinerary})]})]})]})]}),/*#__PURE__*/_jsx(\"footer\",{className:\"app-footer\",children:/*#__PURE__*/_jsx(\"span\",{children:\"Built with React & your custom BERT + Mistral pipeline \\uD83E\\uDDE0\"})})]})});}export default App;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","query","setQuery","response","setResponse","loading","setLoading","error","setError","API_URL","generate","trim","res","fetch","concat","method","headers","body","JSON","stringify","text","ok","Error","status","data","json","e","console","handleKeyDown","key","metaKey","ctrlKey","prettyPreference","preference","charAt","toUpperCase","slice","className","children","rows","value","onChange","target","onKeyDown","placeholder","onClick","disabled","map","s","idx","type","toLowerCase","itinerary"],"sources":["/home/gjasti/Project/frontend/src/App.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport \"./App.css\";\n\nfunction App() {\n  const [query, setQuery] = useState(\"\");\n  const [response, setResponse] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n\n  const API_URL =\n    \"https://ondemand.orc.gmu.edu/rnode/gpu018.orc.gmu.edu/25954/proxy/8000\";\n\n  async function generate() {\n    if (!query.trim()) return;\n\n    setLoading(true);\n    setResponse(null);\n    setError(\"\");\n\n    try {\n      const res = await fetch(`${API_URL}/generate`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ text: query }),\n      });\n\n      if (!res.ok) {\n        throw new Error(`Server error: ${res.status}`);\n      }\n\n      const data = await res.json();\n      setResponse(data);\n    } catch (e) {\n      console.error(e);\n      setError(\"Something went wrong while generating your itinerary.\");\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  const handleKeyDown = (e) => {\n    if (e.key === \"Enter\" && (e.metaKey || e.ctrlKey)) {\n      generate();\n    }\n  };\n\n  const prettyPreference =\n    response?.preference &&\n    response.preference.charAt(0).toUpperCase() + response.preference.slice(1);\n\n  return (\n    <div className=\"app-root\">\n      <div className=\"app-shell\">\n        {/* Top bar */}\n        <header className=\"app-header\">\n          <div className=\"logo-circle\">‚úàÔ∏è</div>\n          <div>\n            <h1 className=\"app-title\">AI Travel Planner</h1>\n            <p className=\"app-subtitle\">\n              Turn natural language requests into smart, personalized itineraries.\n            </p>\n          </div>\n        </header>\n\n        {/* Main content */}\n        <main>\n          <section className=\"card input-card\">\n            <div className=\"card-header\">\n              <h2>Describe your dream trip</h2>\n              <p className=\"card-helper\">\n                Mention things like <span>destination</span>, <span>days</span>,{\" \"}\n                <span>budget</span>, or <span>style</span> (luxury, romantic, foodie,\n                adventure‚Ä¶)\n              </p>\n            </div>\n\n            <textarea\n              rows=\"4\"\n              value={query}\n              onChange={(e) => setQuery(e.target.value)}\n              onKeyDown={handleKeyDown}\n              placeholder=\"Example: Plan a 4-day luxury trip to Paris for a couple interested in art and fine dining.\"\n              className=\"query-textarea\"\n            />\n\n            <div className=\"input-footer\">\n              <div className=\"hint\">\n                Press <kbd>Ctrl</kbd>+<kbd>Enter</kbd> (or <kbd>‚åò</kbd>+<kbd>Enter</kbd>) to generate.\n              </div>\n              <button\n                onClick={generate}\n                disabled={loading || !query.trim()}\n                className=\"primary-button\"\n              >\n                {loading ? (\n                  <>\n                    <span className=\"spinner\" /> Generating‚Ä¶\n                  </>\n                ) : (\n                  \"Generate Itinerary\"\n                )}\n              </button>\n            </div>\n\n            {error && <p className=\"error-text\">{error}</p>}\n          </section>\n\n          {/* Suggestions */}\n          <section className=\"suggestions\">\n            <p>Try one of these:</p>\n            <div className=\"suggestion-chips\">\n              {[\n                \"Plan a 3-day budget trip to New York for two students who love street food.\",\n                \"Create a 7-day relaxing beach vacation in Bali with spa and sunsets.\",\n                \"Plan a 5-day family trip to Tokyo with kid-friendly activities.\",\n              ].map((s, idx) => (\n                <button\n                  key={idx}\n                  type=\"button\"\n                  className=\"chip\"\n                  onClick={() => setQuery(s)}\n                >\n                  {s}\n                </button>\n              ))}\n            </div>\n          </section>\n\n          {/* Results */}\n          {response && (\n            <section className=\"card output-card\">\n              <div className=\"output-header\">\n                <h2>Your AI-crafted trip</h2>\n                {prettyPreference && (\n                  <span\n                    className={`pref-badge pref-${response.preference.toLowerCase()}`}\n                  >\n                    {prettyPreference} focus\n                  </span>\n                )}\n              </div>\n\n              <div className=\"output-grid\">\n                <div className=\"output-section\">\n                  <h3>Extracted Preference</h3>\n                  <p className=\"preference-text\">\n                    {prettyPreference || \"‚Äî not detected ‚Äî\"}\n                  </p>\n                </div>\n\n                <div className=\"output-section itinerary-section\">\n                  <h3>Generated Itinerary</h3>\n                  <pre className=\"itinerary-pre\">{response.itinerary}</pre>\n                </div>\n              </div>\n            </section>\n          )}\n        </main>\n\n        {/* Footer */}\n        <footer className=\"app-footer\">\n          <span>Built with React &amp; your custom BERT + Mistral pipeline üß†</span>\n        </footer>\n      </div>\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}